# é€‰æ‹©é¢˜å¡ç‰‡åŠŸèƒ½ (Choice Card) - PR æ–‡æ¡£

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

æœ¬ PR ä¸º SRS é—ªå¡ç³»ç»Ÿæ·»åŠ äº†**é€‰æ‹©é¢˜å¡ç‰‡ç±»å‹**æ”¯æŒã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡ `#choice` + `#card` æ ‡ç­¾ç»„åˆå¿«é€Ÿåˆ›å»ºé€‰æ‹©é¢˜ï¼Œæ”¯æŒå•é€‰å’Œå¤šé€‰æ¨¡å¼ï¼Œå…·æœ‰æ™ºèƒ½ä¹±åºã€è‡ªåŠ¨è¯„åˆ†å»ºè®®ã€é€‰æ‹©ç»Ÿè®¡ç­‰åŠŸèƒ½ã€‚

### æ ¸å¿ƒç‰¹æ€§

- âœ… **æ ‡ç­¾é©±åŠ¨åˆ›å»º** - é€šè¿‡ `#choice` + `#card` æ ‡ç­¾ç»„åˆè¯†åˆ«é€‰æ‹©é¢˜
- âœ… **å•é€‰/å¤šé€‰æ¨¡å¼** - æ ¹æ®æ­£ç¡®é€‰é¡¹æ•°é‡è‡ªåŠ¨åˆ¤æ–­
- âœ… **æ™ºèƒ½ä¹±åº** - åˆ†æ®µåˆå¹¶ç®—æ³•ï¼Œé”šå®šé€‰é¡¹å›ºå®šåœ¨æœ«å°¾
- âœ… **è‡ªåŠ¨è¯„åˆ†å»ºè®®** - æ ¹æ®ç­”é¢˜ç»“æœé¢„é€‰è¯„åˆ†
- âœ… **é€‰æ‹©ç»Ÿè®¡** - è®°å½•æ¯æ¬¡é€‰æ‹©ï¼Œåˆ†æé«˜é¢‘é”™è¯¯é€‰é¡¹
- âœ… **é”®ç›˜å¿«æ·é”®** - æ•°å­—é”®é€‰æ‹©ã€Enter æäº¤ã€1-4 è¯„åˆ†

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å¡ç‰‡è¯†åˆ«å±‚                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  collectSrsBlocks â†’ extractCardType â†’ CardType = "choice"       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         æ•°æ®å±‚                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  choiceUtils.ts                                                  â”‚
â”‚  â”œâ”€â”€ extractChoiceOptions()  - æå–é€‰é¡¹                          â”‚
â”‚  â”œâ”€â”€ detectChoiceMode()      - æ£€æµ‹å•é€‰/å¤šé€‰                     â”‚
â”‚  â”œâ”€â”€ shuffleOptions()        - æ™ºèƒ½ä¹±åº                          â”‚
â”‚  â””â”€â”€ calculateAutoGrade()    - è‡ªåŠ¨è¯„åˆ†                          â”‚
â”‚                                                                  â”‚
â”‚  choiceStatisticsStorage.ts                                      â”‚
â”‚  â”œâ”€â”€ saveChoiceStatistics()  - ä¿å­˜ç»Ÿè®¡                          â”‚
â”‚  â”œâ”€â”€ loadChoiceStatistics()  - åŠ è½½ç»Ÿè®¡                          â”‚
â”‚  â””â”€â”€ calculateOptionFrequency() - è®¡ç®—é¢‘ç‡                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ¸²æŸ“å±‚                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ChoiceCardReviewRenderer.tsx  - å¤ä¹ ç•Œé¢æ¸²æŸ“                    â”‚
â”‚  ChoiceOptionRenderer.tsx      - é€‰é¡¹æ¸²æŸ“                        â”‚
â”‚  ChoiceCardBlockRenderer.tsx   - ç¼–è¾‘æ¨¡å¼å—æ¸²æŸ“                  â”‚
â”‚  ChoiceStatisticsIndicator.tsx - ç»Ÿè®¡æŒ‡ç¤ºå™¨                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ æ–‡ä»¶å˜æ›´æ¸…å•

### æ–°å¢æ–‡ä»¶

| æ–‡ä»¶è·¯å¾„ | è¯´æ˜ |
|---------|------|
| `src/srs/choiceUtils.ts` | é€‰æ‹©é¢˜æ ¸å¿ƒå·¥å…·å‡½æ•° |
| `src/srs/choiceStatisticsStorage.ts` | é€‰æ‹©ç»Ÿè®¡å­˜å‚¨æ¨¡å— |
| `src/components/ChoiceCardReviewRenderer.tsx` | é€‰æ‹©é¢˜å¤ä¹ æ¸²æŸ“å™¨ |
| `src/components/ChoiceOptionRenderer.tsx` | é€‰é¡¹æ¸²æŸ“ç»„ä»¶ |
| `src/components/ChoiceCardBlockRenderer.tsx` | ç¼–è¾‘æ¨¡å¼å—æ¸²æŸ“å™¨ |
| `src/components/ChoiceStatisticsIndicator.tsx` | ç»Ÿè®¡æŒ‡ç¤ºå™¨ç»„ä»¶ |

### ä¿®æ”¹æ–‡ä»¶

| æ–‡ä»¶è·¯å¾„ | å˜æ›´è¯´æ˜ |
|---------|---------|
| `src/srs/types.ts` | æ·»åŠ  Choice ç›¸å…³ç±»å‹å®šä¹‰ |
| `src/srs/tagUtils.ts` | æ·»åŠ  `isChoiceTag`, `isCorrectTag`, `isOrderedTag` |
| `src/srs/deckUtils.ts` | `extractCardType()` æ”¯æŒ "choice" ç±»å‹ |
| `src/srs/cardCollector.ts` | é€‰æ‹©é¢˜å¡ç‰‡æ”¶é›†é€»è¾‘ |
| `src/components/SrsCardDemo.tsx` | é›†æˆé€‰æ‹©é¢˜æ¸²æŸ“å™¨ |
| `src/hooks/useReviewShortcuts.ts` | æ·»åŠ é€‰æ‹©é¢˜å¿«æ·é”®æ”¯æŒ |
| `src/styles/srs-review.css` | é€‰æ‹©é¢˜æ ·å¼ |

---

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### 1. åˆ›å»ºé€‰æ‹©é¢˜å¡ç‰‡

åœ¨ Orca ä¸­åˆ›å»ºä¸€ä¸ªå—ï¼Œæ·»åŠ  `#card` å’Œ `#choice` æ ‡ç­¾ï¼š

```
è¿™æ˜¯ä¸€é“é€‰æ‹©é¢˜çš„é¢˜ç›® #card #choice
  - é€‰é¡¹ A
  - é€‰é¡¹ B #correct
  - é€‰é¡¹ C
  - é€‰é¡¹ D
```

### 2. æ ‡è®°æ­£ç¡®ç­”æ¡ˆ

åœ¨æ­£ç¡®é€‰é¡¹ä¸Šæ·»åŠ  `#correct` æˆ– `#æ­£ç¡®` æ ‡ç­¾ï¼š

```
å•é€‰é¢˜ç¤ºä¾‹ #card #choice
  - é”™è¯¯é€‰é¡¹ A
  - æ­£ç¡®é€‰é¡¹ B #correct
  - é”™è¯¯é€‰é¡¹ C

å¤šé€‰é¢˜ç¤ºä¾‹ #card #choice
  - æ­£ç¡®é€‰é¡¹ A #correct
  - é”™è¯¯é€‰é¡¹ B
  - æ­£ç¡®é€‰é¡¹ C #correct
  - é”™è¯¯é€‰é¡¹ D
```

### 3. ç¦ç”¨ä¹±åºï¼ˆå¯é€‰ï¼‰

æ·»åŠ  `#ordered` æ ‡ç­¾ä¿æŒé€‰é¡¹åŸå§‹é¡ºåºï¼š

```
æœ‰åºé€‰æ‹©é¢˜ #card #choice #ordered
  - é€‰é¡¹ A
  - é€‰é¡¹ B #correct
  - ä»¥ä¸Šéƒ½ä¸å¯¹
```

### 4. é”šå®šé€‰é¡¹

åŒ…å«ä»¥ä¸‹å…³é”®è¯çš„é€‰é¡¹ä¼šè‡ªåŠ¨å›ºå®šåœ¨æœ«å°¾ï¼š
- ä¸­æ–‡ï¼š`ä»¥ä¸Š`ã€`çš†é`ã€`éƒ½æ˜¯`ã€`éƒ½ä¸æ˜¯`
- è‹±æ–‡ï¼š`all of the above`ã€`none of the above`

```
å¸¦é”šå®šé€‰é¡¹çš„é¢˜ç›® #card #choice
  - é€‰é¡¹ A #correct
  - é€‰é¡¹ B
  - ä»¥ä¸Šéƒ½å¯¹    â† ä¹±åºæ—¶å›ºå®šåœ¨æœ«å°¾
```

---

## ğŸ® äº¤äº’è¯´æ˜

### å•é€‰æ¨¡å¼

- **ç‚¹å‡»é€‰é¡¹** â†’ ç«‹å³ç¡®è®¤å¹¶æ­æ™“ç­”æ¡ˆ
- **æ•°å­—é”® 1-9** â†’ é€‰æ‹©å¯¹åº”é€‰é¡¹å¹¶ç¡®è®¤

### å¤šé€‰æ¨¡å¼

- **ç‚¹å‡»é€‰é¡¹** â†’ åˆ‡æ¢é€‰ä¸­çŠ¶æ€ï¼ˆå¯å¤šé€‰ï¼‰
- **æ•°å­—é”® 1-9** â†’ åˆ‡æ¢å¯¹åº”é€‰é¡¹
- **Enter é”®** â†’ æäº¤ç­”æ¡ˆ
- **æäº¤æŒ‰é’®** â†’ ç¡®è®¤é€‰æ‹©å¹¶æ­æ™“ç­”æ¡ˆ

### ç­”æ¡ˆæ­æ™“å

- **1 é”®** â†’ è¯„åˆ†ä¸º"å¿˜è®°"(Again)
- **2 é”®** â†’ è¯„åˆ†ä¸º"å›°éš¾"(Hard)
- **3 é”®** â†’ è¯„åˆ†ä¸º"è‰¯å¥½"(Good)
- **4 é”®** â†’ è¯„åˆ†ä¸º"ç®€å•"(Easy)
- **ç©ºæ ¼é”®** â†’ è¯„åˆ†ä¸º"è‰¯å¥½"(Good)

---

## ğŸ¯ è‡ªåŠ¨è¯„åˆ†é€»è¾‘

| åœºæ™¯ | å»ºè®®è¯„åˆ† |
|-----|---------|
| å…¨éƒ¨æ­£ç¡®ï¼ˆé€‰ä¸­æ‰€æœ‰æ­£ç¡®é€‰é¡¹ï¼Œæ— é”™é€‰ï¼‰ | Goodï¼ˆè‰¯å¥½ï¼‰ |
| éƒ¨åˆ†æ­£ç¡®ï¼ˆå¤šé€‰é¢˜ï¼šæ¼é€‰ä½†æ— é”™é€‰ï¼‰ | Hardï¼ˆå›°éš¾ï¼‰ |
| æœ‰é”™é€‰ æˆ– å•é€‰é¢˜ç­”é”™ | Againï¼ˆå¿˜è®°ï¼‰ |
| æ— æ­£ç¡®ç­”æ¡ˆå®šä¹‰ | è·³è¿‡è‡ªåŠ¨è¯„åˆ† |

---

## ğŸ“Š ç»Ÿè®¡åŠŸèƒ½

### æ•°æ®å­˜å‚¨

é€‰æ‹©ç»Ÿè®¡å­˜å‚¨åœ¨å¡ç‰‡å—çš„å±æ€§ä¸­ï¼š

```
å±æ€§å: srs.choice.statistics
ç±»å‹: æ–‡æœ¬ (JSON)
```

JSON ç»“æ„ï¼š
```json
{
  "version": 1,
  "entries": [
    {
      "timestamp": 1703404800000,
      "selectedBlockIds": [123, 456],
      "correctBlockIds": [123],
      "isCorrect": false
    }
  ]
}
```

### ç»Ÿè®¡æŒ‡ç¤ºå™¨

åœ¨ç¼–è¾‘æ¨¡å¼ä¸‹ï¼Œé€‰æ‹©é¢˜å¡ç‰‡ä¼šæ˜¾ç¤ºï¼š
- æ¯ä¸ªé€‰é¡¹çš„é€‰æ‹©æ¬¡æ•°å’Œé€‰æ‹©ç‡
- é«˜é¢‘é”™è¯¯é€‰é¡¹è­¦å‘Šï¼ˆé”™è¯¯ç‡ > 30% ä¸”æ ·æœ¬æ•° â‰¥ 3ï¼‰

---

## ğŸ”§ ç±»å‹å®šä¹‰

### CardType æ‰©å±•

```typescript
export type CardType = "basic" | "cloze" | "direction" | "excerpt" | "choice"
```

### é€‰æ‹©é¢˜ç›¸å…³ç±»å‹

```typescript
// é€‰æ‹©é¢˜æ¨¡å¼
export type ChoiceMode = "single" | "multiple" | "undefined"

// é€‰æ‹©é¡¹ä¿¡æ¯
export interface ChoiceOption {
  blockId: DbId           // é€‰é¡¹å— ID
  text: string            // é€‰é¡¹æ–‡æœ¬
  content: ContentFragment[]  // å®Œæ•´å†…å®¹
  isCorrect: boolean      // æ˜¯å¦ä¸ºæ­£ç¡®é€‰é¡¹
  isAnchor: boolean       // æ˜¯å¦ä¸ºé”šå®šé€‰é¡¹
}

// é€‰æ‹©é¢˜å¡ç‰‡æ•°æ®
export interface ChoiceCardData {
  options: ChoiceOption[]     // é€‰é¡¹åˆ—è¡¨
  mode: ChoiceMode            // å•é€‰/å¤šé€‰æ¨¡å¼
  shuffledOrder: number[]     // ä¹±åºåçš„ç´¢å¼•é¡ºåº
}

// é€‰æ‹©ç»Ÿè®¡è®°å½•
export interface ChoiceStatisticsEntry {
  timestamp: number           // é€‰æ‹©æ—¶é—´æˆ³
  selectedBlockIds: DbId[]    // é€‰ä¸­çš„é€‰é¡¹ Block IDs
  correctBlockIds: DbId[]     // æ­£ç¡®é€‰é¡¹ Block IDs
  isCorrect: boolean          // æ˜¯å¦å…¨éƒ¨æ­£ç¡®
}

// é€‰æ‹©ç»Ÿè®¡å­˜å‚¨
export interface ChoiceStatisticsStorage {
  version: number
  entries: ChoiceStatisticsEntry[]
}
```

---

## ğŸ”‘ æ ¸å¿ƒå‡½æ•° API

### choiceUtils.ts

```typescript
/**
 * æ£€æµ‹é€‰é¡¹æ–‡æœ¬æ˜¯å¦ä¸ºé”šå®šé€‰é¡¹
 * @param text - é€‰é¡¹æ–‡æœ¬
 * @returns æ˜¯å¦ä¸ºé”šå®šé€‰é¡¹
 */
function isAnchorOption(text: string): boolean

/**
 * ä»é€‰æ‹©é¢˜å¡ç‰‡å—ä¸­æå–é€‰æ‹©é¡¹
 * @param block - é€‰æ‹©é¢˜å¡ç‰‡å—
 * @returns é€‰æ‹©é¡¹æ•°ç»„
 */
function extractChoiceOptions(block: Block): ChoiceOption[]

/**
 * æ£€æµ‹é€‰æ‹©é¢˜æ¨¡å¼
 * @param options - é€‰æ‹©é¡¹æ•°ç»„
 * @returns "single" | "multiple" | "undefined"
 */
function detectChoiceMode(options: ChoiceOption[]): ChoiceMode

/**
 * æ™ºèƒ½ä¹±åºé€‰é¡¹ï¼ˆåˆ†æ®µåˆå¹¶ç®—æ³•ï¼‰
 * @param options - é€‰æ‹©é¡¹æ•°ç»„
 * @param isOrdered - æ˜¯å¦ç¦ç”¨ä¹±åº
 * @returns ä¹±åºåçš„é€‰é¡¹å’Œç´¢å¼•æ˜ å°„
 */
function shuffleOptions(
  options: ChoiceOption[], 
  isOrdered: boolean
): { options: ChoiceOption[]; shuffledOrder: number[] }

/**
 * è®¡ç®—è‡ªåŠ¨è¯„åˆ†
 * @param selectedIds - ç”¨æˆ·é€‰ä¸­çš„é€‰é¡¹ Block IDs
 * @param correctIds - æ­£ç¡®é€‰é¡¹ Block IDs
 * @param mode - é€‰æ‹©é¢˜æ¨¡å¼
 * @returns å»ºè®®çš„è¯„åˆ†ï¼Œæˆ– null è¡¨ç¤ºè·³è¿‡
 */
function calculateAutoGrade(
  selectedIds: DbId[],
  correctIds: DbId[],
  mode: ChoiceMode
): Grade | null
```

### choiceStatisticsStorage.ts

```typescript
/**
 * ä¿å­˜é€‰æ‹©ç»Ÿè®¡è®°å½•
 */
async function saveChoiceStatistics(
  blockId: DbId,
  entry: ChoiceStatisticsEntry
): Promise<void>

/**
 * åŠ è½½é€‰æ‹©ç»Ÿè®¡è®°å½•
 */
async function loadChoiceStatistics(
  blockId: DbId
): Promise<ChoiceStatisticsEntry[]>

/**
 * è®¡ç®—é€‰é¡¹é€‰æ‹©é¢‘ç‡
 */
function calculateOptionFrequency(
  entries: ChoiceStatisticsEntry[],
  optionBlockIds: DbId[]
): Map<DbId, OptionFrequency>

/**
 * åºåˆ—åŒ–ç»Ÿè®¡æ•°æ®
 */
function serializeStatistics(storage: ChoiceStatisticsStorage): string

/**
 * ååºåˆ—åŒ–ç»Ÿè®¡æ•°æ®
 */
function deserializeStatistics(json: string): ChoiceStatisticsStorage
```

### tagUtils.ts

```typescript
/**
 * åˆ¤æ–­æ˜¯å¦ä¸º choice æ ‡ç­¾ï¼ˆå¤§å°å†™ä¸æ•æ„Ÿï¼‰
 */
function isChoiceTag(alias: string | undefined): boolean

/**
 * åˆ¤æ–­æ˜¯å¦ä¸º correct æ ‡ç­¾ï¼ˆæ”¯æŒ #correct å’Œ #æ­£ç¡®ï¼‰
 */
function isCorrectTag(alias: string | undefined): boolean

/**
 * åˆ¤æ–­æ˜¯å¦ä¸º ordered æ ‡ç­¾ï¼ˆå¤§å°å†™ä¸æ•æ„Ÿï¼‰
 */
function isOrderedTag(alias: string | undefined): boolean
```

---

## ğŸ¨ æ ·å¼è¯´æ˜

### CSS ç±»å

| ç±»å | è¯´æ˜ |
|-----|------|
| `.srs-choice-card-container` | é€‰æ‹©é¢˜å¡ç‰‡å®¹å™¨ |
| `.srs-choice-question` | é¢˜ç›®åŒºåŸŸ |
| `.srs-choice-options` | é€‰é¡¹åˆ—è¡¨å®¹å™¨ |
| `.srs-choice-option` | å•ä¸ªé€‰é¡¹ |
| `.srs-choice-option-selected` | é€‰ä¸­çŠ¶æ€ |
| `.srs-choice-option-correct-selected` | æ­£ç¡®ä¸”é€‰ä¸­ |
| `.srs-choice-option-correct-unselected` | æ­£ç¡®ä½†æœªé€‰ä¸­ |
| `.srs-choice-option-incorrect-selected` | é”™è¯¯ä¸”é€‰ä¸­ |
| `.srs-choice-option-disabled` | ç¦ç”¨çŠ¶æ€ |
| `.srs-choice-indicator` | é€‰æ‹©æŒ‡ç¤ºå™¨ |
| `.srs-choice-indicator-radio` | å•é€‰æŒ‡ç¤ºå™¨ |
| `.srs-choice-indicator-checkbox` | å¤šé€‰æŒ‡ç¤ºå™¨ |

### é¢œè‰²æ–¹æ¡ˆ

| çŠ¶æ€ | èƒŒæ™¯è‰² | è¾¹æ¡†è‰² |
|-----|-------|-------|
| é»˜è®¤ | `var(--orca-color-bg-2)` | transparent |
| é€‰ä¸­ | `var(--orca-color-primary-1)` | `var(--orca-color-primary-5)` |
| æ­£ç¡®+é€‰ä¸­ | `rgba(34, 197, 94, 0.15)` | `rgba(34, 197, 94, 0.5)` |
| æ­£ç¡®+æœªé€‰ä¸­ | `rgba(34, 197, 94, 0.08)` | `rgba(34, 197, 94, 0.3)` |
| é”™è¯¯+é€‰ä¸­ | `rgba(239, 68, 68, 0.15)` | `rgba(239, 68, 68, 0.5)` |

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ ‡ç­¾å¤§å°å†™ä¸æ•æ„Ÿ** - `#Choice`ã€`#CHOICE`ã€`#choice` å‡å¯è¯†åˆ«
2. **å­å—å³é€‰é¡¹** - åªæœ‰ç›´æ¥å­å—è¢«è¯†åˆ«ä¸ºé€‰é¡¹ï¼ŒåµŒå¥—å†…å®¹ä¼šè¢«å®Œæ•´æ¸²æŸ“ä½†ä¸ä½œä¸ºç‹¬ç«‹é€‰é¡¹
3. **Block ID æŒä¹…åŒ–** - ç»Ÿè®¡æ•°æ®ä½¿ç”¨ Block ID è€Œéç´¢å¼•ï¼Œæ”¯æŒé€‰é¡¹é‡æ’åº
4. **å·²åˆ é™¤é€‰é¡¹å¤„ç†** - åŠ è½½ç»Ÿè®¡æ—¶ä¼šå¿½ç•¥å·²åˆ é™¤çš„å—
5. **ä¸ç°æœ‰åŠŸèƒ½å…¼å®¹** - é€‰æ‹©é¢˜å¡ç‰‡å®Œå…¨å…¼å®¹ç°æœ‰çš„ç‰Œç»„ã€æš‚åœã€ç»Ÿè®¡ç­‰åŠŸèƒ½

---

## ğŸ§ª æµ‹è¯•è¦†ç›–

### å±æ€§æµ‹è¯• (Property-Based Testing)

| å±æ€§ | è¯´æ˜ | éªŒè¯éœ€æ±‚ |
|-----|------|---------|
| Property 1 | é€‰æ‹©é¢˜è¯†åˆ« | 1.1, 1.2, 1.4 |
| Property 2 | æ­£ç¡®é€‰é¡¹æ£€æµ‹å’Œæ¨¡å¼ | 2.1, 2.2, 2.3, 2.4 |
| Property 4 | ä¹±åºç®—æ³•æ­£ç¡®æ€§ | 4.1, 4.2, 4.3, 4.4, 4.5 |
| Property 5 | è‡ªåŠ¨è¯„åˆ†é€»è¾‘ | 6.1, 6.2 |
| Property 6 | ç»Ÿè®¡æ•°æ®åºåˆ—åŒ–å¾€è¿” | 7.5, 7.6 |
| Property 7 | ç»Ÿè®¡æŒä¹…åŒ–ä¸ Block ID | 7.1, 7.2, 7.7, 7.8 |
| Property 8 | SRS é›†æˆ | 9.1, 9.2, 9.3, 9.4 |

---

## ğŸ“ éœ€æ±‚è¿½æº¯

| éœ€æ±‚ç¼–å· | éœ€æ±‚æè¿° | å®ç°çŠ¶æ€ |
|---------|---------|---------|
| 1.1 | `#card` + `#choice` è¯†åˆ«ä¸ºé€‰æ‹©é¢˜ | âœ… |
| 1.2 | ä»… `#choice` ä¸è¯†åˆ«ä¸ºé€‰æ‹©é¢˜ | âœ… |
| 1.3 | ç›´æ¥å­å—è¯†åˆ«ä¸ºé€‰é¡¹ | âœ… |
| 1.4 | æ ‡ç­¾å¤§å°å†™ä¸æ•æ„Ÿ | âœ… |
| 2.1 | `#correct`/`#æ­£ç¡®` æ ‡è®°æ­£ç¡®é€‰é¡¹ | âœ… |
| 2.2 | æ­£ç¡®æ ‡ç­¾å¤§å°å†™ä¸æ•æ„Ÿ | âœ… |
| 2.3 | å¤šä¸ªæ­£ç¡®é€‰é¡¹ â†’ å¤šé€‰é¢˜ | âœ… |
| 2.4 | ä¸€ä¸ªæ­£ç¡®é€‰é¡¹ â†’ å•é€‰é¢˜ | âœ… |
| 3.1-3.10 | å¤ä¹ ç•Œé¢äº¤äº’ | âœ… |
| 4.1-4.5 | æ™ºèƒ½ä¹±åº | âœ… |
| 5.1-5.4 | é”®ç›˜å¿«æ·é”® | âœ… |
| 6.1-6.5 | è‡ªåŠ¨è¯„åˆ† | âœ… |
| 7.1-7.8 | ç»Ÿè®¡å­˜å‚¨ | âœ… |
| 8.1-8.3 | ç»Ÿè®¡æ˜¾ç¤º | âœ… |
| 9.1-9.4 | SRS é›†æˆ | âœ… |

---

## ğŸš€ åç»­ä¼˜åŒ–æ–¹å‘

1. **AI è¾…åŠ©åˆ›å»º** - æ”¯æŒ AI è‡ªåŠ¨ç”Ÿæˆé€‰æ‹©é¢˜
2. **æ‰¹é‡å¯¼å…¥** - æ”¯æŒä»å¤–éƒ¨æ ¼å¼å¯¼å…¥é€‰æ‹©é¢˜
3. **é”™é¢˜æœ¬** - åŸºäºç»Ÿè®¡æ•°æ®ç”Ÿæˆé”™é¢˜é›†
4. **éš¾åº¦åˆ†æ** - æ ¹æ®å†å²æ•°æ®åˆ†æé¢˜ç›®éš¾åº¦

---

## ğŸ“¸ æˆªå›¾é¢„è§ˆ

### ç¼–è¾‘æ¨¡å¼
- æ˜¾ç¤ºé¢˜ç›®ã€é€‰é¡¹é¢„è§ˆ
- æ­£ç¡®é€‰é¡¹ç»¿è‰²é«˜äº®
- é”šå®šé€‰é¡¹æ˜¾ç¤ºé”šç‚¹å›¾æ ‡
- ç»Ÿè®¡æŒ‡ç¤ºå™¨æ˜¾ç¤ºé€‰æ‹©é¢‘ç‡

### å¤ä¹ æ¨¡å¼
- å•é€‰ï¼šç‚¹å‡»å³ç¡®è®¤
- å¤šé€‰ï¼šå‹¾é€‰ + æäº¤æŒ‰é’®
- ç­”æ¡ˆæ­æ™“ï¼šç»¿è‰²æ­£ç¡®ã€çº¢è‰²é”™è¯¯
- è‡ªåŠ¨è¯„åˆ†å»ºè®®é«˜äº®

---

*æ–‡æ¡£ç”Ÿæˆæ—¶é—´: 2024-12-24*
*ç”¨å®Œå³åˆ *
