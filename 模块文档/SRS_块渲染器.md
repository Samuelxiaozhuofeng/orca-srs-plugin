# SRS å—æ¸²æŸ“å™¨æ¨¡å—

## æ¦‚è¿°

æœ¬æ¨¡å—å®ç° SRS å¡ç‰‡åœ¨ Orca ç¼–è¾‘å™¨ä¸­çš„è‡ªå®šä¹‰æ¸²æŸ“ï¼Œå°†å¸¦æœ‰ `_repr.type = "srs.card"` çš„å—ä»¥å¡ç‰‡æ ·å¼å±•ç¤ºã€‚

### æ ¸å¿ƒä»·å€¼

- ç¼–è¾‘å™¨å†…ç›´æ¥æ˜¾ç¤ºå¡ç‰‡
- æ”¯æŒå¿«é€Ÿè¯„åˆ†
- å¯åœ¨åŸä½ç¼–è¾‘é¢˜ç›®å’Œç­”æ¡ˆ

## æŠ€æœ¯å®ç°

### æ ¸å¿ƒæ–‡ä»¶

- [SrsCardBlockRenderer.tsx](file:///d:/orcaæ’ä»¶/è™é²¸æ ‡è®°%20å†…ç½®é—ªå¡/src/components/SrsCardBlockRenderer.tsx)

### æ¸²æŸ“å™¨æ³¨å†Œ

```typescript
orca.renderers.registerBlock(
  "srs.card", // å—ç±»å‹
  false, // ä¸å¯ä½œä¸ºçº¯æ–‡æœ¬ç¼–è¾‘
  SrsCardBlockRenderer, // æ¸²æŸ“å™¨ç»„ä»¶
  [], // æ— éœ€ asset å­—æ®µ
  false // ä¸ä½¿ç”¨è‡ªå®šä¹‰å­å—å¸ƒå±€
);
```

### ç»„ä»¶ Props

| å±æ€§        | ç±»å‹   | è¯´æ˜     |
| ----------- | ------ | -------- |
| panelId     | string | é¢æ¿ ID  |
| blockId     | DbId   | å— ID    |
| rndId       | string | æ¸²æŸ“ ID  |
| blockLevel  | number | å—å±‚çº§   |
| indentLevel | number | ç¼©è¿›å±‚çº§ |
| mirrorId    | DbId   | é•œåƒ ID  |
| front       | string | é¢˜ç›®æ–‡æœ¬ |
| back        | string | ç­”æ¡ˆæ–‡æœ¬ |

### ç•Œé¢ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ´ SRS è®°å¿†å¡ç‰‡                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é¢˜ç›®ï¼š                          [ç¼–è¾‘]  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ What is the capital of France?     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚
â”‚            [ æ˜¾ç¤ºç­”æ¡ˆ ]                 â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä¸‹æ¬¡å¤ä¹ ï¼š2024-01-15 10:00              â”‚
â”‚ é—´éš”ï¼š5 å¤©ï¼Œç¨³å®šåº¦ï¼š8.5ï¼Œéš¾åº¦ï¼š4.2      â”‚
â”‚ å¤ä¹ æ¬¡æ•°ï¼š12ï¼Œé—å¿˜ï¼š1                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åŠŸèƒ½ç‰¹æ€§

#### 1. ç­”æ¡ˆæ­ç¤º

- åˆå§‹éšè—ç­”æ¡ˆ
- ç‚¹å‡»"æ˜¾ç¤ºç­”æ¡ˆ"æ­ç¤º
- æ­ç¤ºåæ˜¾ç¤ºè¯„åˆ†æŒ‰é’®

#### 2. å†…è”ç¼–è¾‘

- é¢˜ç›®å’Œç­”æ¡ˆæ”¯æŒç‚¹å‡»ç¼–è¾‘
- ä½¿ç”¨ textarea ç¼–è¾‘
- ä¿å­˜/å–æ¶ˆæŒ‰é’®

#### 3. å¿«é€Ÿè¯„åˆ†

- å››ä¸ªè¯„åˆ†æŒ‰é’®ï¼šAgain / Hard / Good / Easy
- è¯„åˆ†åè‡ªåŠ¨éšè—ç­”æ¡ˆ
- æ˜¾ç¤ºé€šçŸ¥æç¤ºä¸‹æ¬¡å¤ä¹ æ—¶é—´

#### 4. çŠ¶æ€æ˜¾ç¤º

- ä¸‹æ¬¡å¤ä¹ æ—¶é—´
- é—´éš”å¤©æ•°
- ç¨³å®šåº¦å’Œéš¾åº¦
- å¤ä¹ æ¬¡æ•°å’Œé—å¿˜æ¬¡æ•°

### çŠ¶æ€ç®¡ç†

```typescript
const [showAnswer, setShowAnswer] = useState(false);
const [isEditingFront, setIsEditingFront] = useState(false);
const [isEditingBack, setIsEditingBack] = useState(false);
```

### è¯„åˆ†å¤„ç†

```typescript
const handleGrade = async (grade: Grade) => {
  const result = await updateSrsState(blockId, grade);
  setShowAnswer(false);
  orca.notify("success", `è¯„åˆ†å·²è®°å½•ï¼š${grade}`);
};
```

## æ ·å¼è®¾è®¡

### é¢œè‰²ä½¿ç”¨

- èƒŒæ™¯ï¼š`var(--orca-color-bg-1)` / `var(--orca-color-bg-2)`
- è¾¹æ¡†ï¼š`var(--orca-color-border-1)`
- ç­”æ¡ˆåŒºå·¦è¾¹æ¡†ï¼š`var(--orca-color-primary-5)`

### æŒ‰é’®æ ·å¼

| æŒ‰é’®  | variant   | è¯´æ˜     |
| ----- | --------- | -------- |
| Again | dangerous | çº¢è‰²è­¦å‘Š |
| Hard  | soft      | æŸ”å’Œç°   |
| Good  | solid     | ä¸»è‰²å®å¿ƒ |
| Easy  | solid     | ä¸»è‰²é«˜äº® |

## æ‰©å±•ç‚¹

1. **æŠ˜å æ¨¡å¼**ï¼šå¯æ‰©å±•ç´§å‡‘æ˜¾ç¤ºæ¨¡å¼
2. **é¢„è§ˆæ‚¬åœ**ï¼šå¯æ‰©å±•é¼ æ ‡æ‚¬åœé¢„è§ˆç­”æ¡ˆ
3. **é”®ç›˜æ“ä½œ**ï¼šå¯æ‰©å±•å¿«æ·é”®æ”¯æŒ

## ç›¸å…³æ–‡ä»¶

| æ–‡ä»¶                                                                                                        | è¯´æ˜       |
| ----------------------------------------------------------------------------------------------------------- | ---------- |
| [SrsCardBlockRenderer.tsx](file:///d:/orcaæ’ä»¶/è™é²¸æ ‡è®°%20å†…ç½®é—ªå¡/src/components/SrsCardBlockRenderer.tsx) | æ¸²æŸ“å™¨ç»„ä»¶ |
| [storage.ts](file:///d:/orcaæ’ä»¶/è™é²¸æ ‡è®°%20å†…ç½®é—ªå¡/src/srs/storage.ts)                                    | çŠ¶æ€æ›´æ–°   |
| [main.ts](file:///d:/orcaæ’ä»¶/è™é²¸æ ‡è®°%20å†…ç½®é—ªå¡/src/main.ts)                                              | æ¸²æŸ“å™¨æ³¨å†Œ |
